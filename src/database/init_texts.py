"""–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é"""
from database import async_session_maker, TextTemplateRepository

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–ª—é—á–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
TEXT_KEYS = {
    "welcome_new": ("–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è", "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ /start"),
    "welcome_return": ("–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–µ–≥–æ—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è", "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–æ–≥–¥–∞ –ø—Ä–æ—Ñ–∏–ª—å —É–∂–µ –∑–∞–ø–æ–ª–Ω–µ–Ω"),
    "registration_name": ("–ó–∞–ø—Ä–æ—Å –∏–º–µ–Ω–∏", "–°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∏–º–µ–Ω–∏ –∏ —Ñ–∞–º–∏–ª–∏–∏"),
    "registration_city": ("–ó–∞–ø—Ä–æ—Å –≥–æ—Ä–æ–¥–∞", "–°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –≥–æ—Ä–æ–¥–∞"),
    "registration_interests": ("–ó–∞–ø—Ä–æ—Å –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤", "–°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤"),
    "registration_events": ("–ó–∞–ø—Ä–æ—Å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π", "–°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ —Ç–∏–ø–æ–≤ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π"),
    "registration_about": ("–ó–∞–ø—Ä–æ—Å –æ —Å–µ–±–µ", "–°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –æ–ø–∏—Å–∞–Ω–∏—è –æ —Å–µ–±–µ"),
    "status_diamond": ("–°—Ç–∞—Ç—É—Å –ë—Ä–∏–ª–ª–∏–∞–Ω—Ç", "–ü–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º –ë—Ä–∏–ª–ª–∏–∞–Ω—Ç"),
    "registration_complete": ("–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏", "–°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏"),
    "event_invitation": ("–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ", "–°–æ–æ–±—â–µ–Ω–∏–µ —Å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ–º –Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ"),
}


async def init_default_texts():
    """–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é"""
    async with async_session_maker() as session:
        repo = TextTemplateRepository(session)
        
        default_texts = {
            "welcome_new": (
                "üëã –ü—Ä–∏–≤–µ—Ç, <b>{first_name}</b>!\n\n"
                "–î–∞–≤–∞–π—Ç–µ –ø–æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è –ø–æ–±–ª–∏–∂–µ.\n\n"
                "<b>–ö–∞–∫ –í–∞—Å –∑–æ–≤—É—Ç?</b>\n"
                "–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∏ —Ñ–∞–º–∏–ª–∏—é."
            ),
            "welcome_return": (
                "üëã –° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º, <b>{first_name}</b>!\n\n"
                "–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å —É–∂–µ –∑–∞–ø–æ–ª–Ω–µ–Ω.\n"
                "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /profile —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é."
            ),
            "registration_name": (
                "<b>–ö–∞–∫ –í–∞—Å –∑–æ–≤—É—Ç?</b>\n"
                "–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∏ —Ñ–∞–º–∏–ª–∏—é."
            ),
            "registration_city": (
                "<b>–ò–∑ –∫–∞–∫–æ–≥–æ –≤—ã –≥–æ—Ä–æ–¥–∞?</b>"
            ),
            "registration_interests": (
                "<b>–ö–∞–∫–∏–º–∏ —Å—Ñ–µ—Ä–∞–º–∏ –≤—ã –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç–µ—Å—å?</b>\n"
                "–í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:"
            ),
            "registration_events": (
                "<b>–ö–∞–∫–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è –í–∞–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã?</b>\n"
                "–í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:"
            ),
            "registration_about": (
                "<b>–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–µ–±–µ</b>\n\n"
                "–≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –ª—É—á—à–µ –ø–æ–¥–æ–±—Ä–∞—Ç—å –¥–ª—è –í–∞—Å —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞.\n"
                "–ú–∞–∫—Å–∏–º—É–º 150 —Å–ª–æ–≤.\n\n"
                "–ò–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —ç—Ç–æ—Ç —à–∞–≥."
            ),
            "status_diamond": (
                "{first_name}, –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º –í–∞—Å —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º —Å—Ç–∞—Ç—É—Å–∞ –ë—Ä–∏–ª–ª–∏–∞–Ω—Ç üíé"
            ),
            "registration_complete": (
                "üéâ <b>–°–ø–∞—Å–∏–±–æ, —á—Ç–æ –æ—Ç–≤–µ—Ç–∏–ª–∏!</b>\n\n"
                "<b>–í–∞—à–∏ –æ—Ç–≤–µ—Ç—ã:</b>\n\n"
                "üë§ <b>–ò–º—è:</b> {first_name} {last_name}\n"
                "üèôÔ∏è <b>–ì–æ—Ä–æ–¥:</b> {city}\n"
                "üí° <b>–ò–Ω—Ç–µ—Ä–µ—Å—ã:</b> {interests}\n"
                "üé™ <b>–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è:</b> {events}\n"
                "üìù <b>–û —Å–µ–±–µ:</b> {about}\n\n"
                "–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω! ‚úÖ"
            ),
            "event_invitation": (
                "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, {first_name}! –ë—É–¥–µ–º —Ä–∞–¥—ã –≤–∏–¥–µ—Ç—å –í–∞—Å –Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–∏, "
                "–ø–æ—Å–≤—è—â–µ–Ω–Ω–æ–º –æ–∫–æ–Ω—á–∞–Ω–∏—é –∫–µ–π—Å-—á–µ–º–ø–∏–æ–Ω–∞—Ç–∞ Cup  Moscow 2025!\n\n"
                "–î–∞—Ç–∞: 17 –¥–µ–∫–∞–±—Ä—è 2025\n"
                "–ú–µ—Å—Ç–æ: –û—Ç–µ–ª—å –•–∏–ª—Ç–æ–Ω (–≥. –ú–æ—Å–∫–≤–∞, –ö–∞–ª–∞–Ω—á—ë–≤—Å–∫–∞—è —É–ª., 21/40)"
            ),
        }
        
        for key, (title, description) in TEXT_KEYS.items():
            content = default_texts.get(key, "")
            existing = await repo.get_by_key(key)
            if not existing:  # –°–æ–∑–¥–∞–µ–º —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
                await repo.create_or_update(key, title, content, description)

